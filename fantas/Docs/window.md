# fantas.window

> fantas 窗口模块

这个模块提供一个窗口类，通过创建实例来驱动窗口。

## fantas.Window

窗口类，每一个实例就是一个窗口。
`Window(window_config: WindowConfig) -> Window`

允许同时创建多个实例来管理多个窗口，不过在单线程模式下，同时只能运行一个窗口的主循环，因此一般会用一个窗口作为主窗口，其他窗口作为子窗口临时弹出（比如对话框）。
创建实例时，需要提供一个 WindowConfig 类型的参数，同一个 WindowConfig 对象可以多次使用。注意：WindowConfig 对象只在初始化 Window 实例时生效，后续的变化不会影响到窗口本身。

属性：

- **fps**
  读取或设置帧率，默认 60 帧/秒。
  `fps -> int`
  窗口在每一轮主循环里会刷新一帧画面，所以这个属性控制的实质上是主循环的频率，它不仅仅影响画面刷新的频率，还会影响事件处理等主循环内操作的频率。

- **root_ui**
  窗口的根元素，默认为一个纯黑的`fantas.ColorBackground`。
  `root_ui -> fantas.UI`
  窗口默认自带一个纯黑背景，你可以在创建实例后重新赋值为其他 UI 对象。

方法：

- **mainloop()**
  进入窗口的主事件循环，直到窗口关闭。
  `mainloop()`
  进入主循环会阻塞，直到退出循环，一般作为整个程序的最后一行代码，当然，你也可以在退出窗口后做一些收尾工作，或者这个窗口并不是主窗口。
  主循环内会执行以下操作：
  - 获取并处理事件
  - 渲染并更新窗口
  每两轮循环之间的所有事件都会存放在一个队列里，等到下一轮循环一次性取出并处理。如果主循环卡住，或者你调整了 `fps` 属性使得事件处理的频率太低，都有可能导致事件队列塞满，这时新的事件无法进入队列，并且系统可能认定你的程序未响应。

- **mainloop_debug()**
  以调试模式进入窗口的主事件循环，直到窗口关闭。
  `mainloop_debug()`
  和普通主循环的区别在于会发送调试信息给调试窗口，只有在调试窗口打开时才会生效，如果你没有使用调试窗口的需要，不要使用这个函数，通信是会消耗性能的。
